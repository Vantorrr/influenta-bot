# ü§ñ Influenta Support Bot

AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã Influenta —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ —Å–∏—Å—Ç–µ–º–æ–π —Ç–∏–∫–µ—Ç–æ–≤.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **AI-–æ—Ç–≤–µ—Ç—ã** –Ω–∞ –±–∞–∑–µ GPT-4 —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏–∑ –≤–∞—à–µ–π –ë–î
- ‚úÖ **FAQ** —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- ‚úÖ **–¢–∏–∫–µ—Ç-—Å–∏—Å—Ç–µ–º–∞** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø–æ–∑–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
- ‚úÖ **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** ‚Äî –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –æ—Ç–≤–µ—á–∞—é—Ç –ø—Ä—è–º–æ —á–µ—Ä–µ–∑ –±–æ—Ç–∞
- ‚úÖ **–ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤** ‚Äî AI –ø–æ–º–Ω–∏—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –±–µ—Å–µ–¥—ã
- ‚úÖ **–ö—Ä–∞—Å–∏–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** —Å –∫–Ω–æ–ø–∫–∞–º–∏ –∏ –∏–Ω–ª–∞–π–Ω-–º–µ–Ω—é

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ .env
cp .env.example .env

# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ .env —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram

1. –ù–∞–ø–∏—à–∏—Ç–µ [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ `.env` ‚Üí `BOT_TOKEN`

### 2. –ü–æ–ª—É—á–∏—Ç–µ OpenAI API Key

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [platform.openai.com](https://platform.openai.com)
2. –°–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤ `.env` ‚Üí `OPENAI_API_KEY`

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–í `.env` —É–∫–∞–∂–∏—Ç–µ `DATABASE_URL` –≤–∞—à–µ–π PostgreSQL –±–∞–∑—ã:

```
DATABASE_URL=postgresql://user:password@host:port/database
```

### 4. –î–æ–±–∞–≤—å—Ç–µ –∞–¥–º–∏–Ω–æ–≤

–í `.env` —É–∫–∞–∂–∏—Ç–µ Telegram ID –∞–¥–º–∏–Ω–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é):

```
ADMIN_IDS=123456789,987654321
```

**–ö–∞–∫ —É–∑–Ω–∞—Ç—å —Å–≤–æ–π Telegram ID:**
- –ù–∞–ø–∏—à–∏—Ç–µ [@userinfobot](https://t.me/userinfobot)

## üóÉÔ∏è –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Ö—Ä–∞–Ω–∏—Ç—å FAQ –∏ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π –≤ –ë–î, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```sql
-- –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è FAQ
CREATE TABLE support_faq (
  id SERIAL PRIMARY KEY,
  question TEXT NOT NULL,
  answer TEXT NOT NULL,
  priority INT DEFAULT 0,
  active BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW()
);

-- –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
CREATE TABLE support_knowledge_base (
  id SERIAL PRIMARY KEY,
  category VARCHAR(100),
  content TEXT NOT NULL,
  active BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW()
);

-- –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ç–∏–∫–µ—Ç–æ–≤
CREATE TABLE support_tickets (
  id SERIAL PRIMARY KEY,
  user_id BIGINT NOT NULL,
  username VARCHAR(255),
  message TEXT NOT NULL,
  status VARCHAR(50) DEFAULT 'open',
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- –í—Å—Ç–∞–≤–∫–∞ –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö FAQ
INSERT INTO support_faq (question, answer, priority) VALUES
('üöÄ –ö–∞–∫ –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É?', '–û—Ç–∫—Ä–æ–π—Ç–µ @influenta_bot –≤ Telegram, –ø—Ä–æ–π–¥–∏—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∑–∞ 1 –º–∏–Ω—É—Ç—É –∏ –Ω–∞—á–∏–Ω–∞–π—Ç–µ!', 1),
('üí∞ –ö–∞–∫–∞—è –∫–æ–º–∏—Å—Å–∏—è?', '–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω–∞! 0% –∫–æ–º–∏—Å—Å–∏–∏ –¥–ª—è –±–ª–æ–≥–µ—Ä–æ–≤ –∏ —Ä–µ–∫–ª–∞–º–æ–¥–∞—Ç–µ–ª–µ–π.', 2),
('üìä –ö–∞–∫ —Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É?', '–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å –±–ª–æ–≥–µ—Ä–∞ - —Ç–∞–º –≤–∏–¥–Ω—ã –æ—Ö–≤–∞—Ç—ã, –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å –∏ –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ.', 3),
('üí¨ –ö–∞–∫ —Å–≤—è–∑–∞—Ç—å—Å—è —Å –±–ª–æ–≥–µ—Ä–æ–º?', '–ù–∞–∂–º–∏—Ç–µ "–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –±–ª–æ–≥–µ—Ä–∞ - –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —á–∞—Ç.', 4),
('‚úÖ –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è?', '–í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–ª–æ–≥–µ—Ä—ã –ø—Ä–æ—à–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∏ —Å–≤–æ—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.', 5);
```

## üèÉ –ó–∞–ø—É—Å–∫

### Development (—Å hot reload):
```bash
npm run dev
```

### Production:
```bash
npm run build
npm run prod
```

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–º–∏—Ç–µ `/start`
3. –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:
   - **üí¨ –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å AI** ‚Äî —Å–ø—Ä–æ—Å–∏—Ç–µ —á—Ç–æ —É–≥–æ–¥–Ω–æ
   - **üìö –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã** ‚Äî –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã
   - **üë§ –ü–æ–∑–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞** ‚Äî –∂–∏–≤–æ–π —á–µ–ª–æ–≤–µ–∫
   - **üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ** ‚Äî —Å–±—Ä–æ—Å –∏—Å—Ç–æ—Ä–∏–∏

### –î–ª—è –∞–¥–º–∏–Ω–æ–≤:

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç —Ç–∏–∫–µ—Ç:
1. –í–∞–º –ø—Ä–∏–¥–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å —Ç–µ–∫—Å—Ç–æ–º
2. –ö–Ω–æ–ø–∫–∏:
   - **‚úÖ –í–∑—è—Ç—å –≤ —Ä–∞–±–æ—Ç—É** ‚Äî –ø–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ –∞–∫—Ç–∏–≤–Ω—ã–π
   - **üí¨ –û—Ç–≤–µ—Ç–∏—Ç—å** ‚Äî –Ω–∞–ø–∏—Å–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
   - **‚úÖ –ó–∞–∫—Ä—ã—Ç—å** ‚Äî –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ç–∏–∫–µ—Ç

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ:

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `src/index.ts` ‚Üí —Ñ—É–Ω–∫—Ü–∏—é `bot.start()`

### –î–æ–±–∞–≤–∏—Ç—å FAQ:

–õ–∏–±–æ –≤ –ë–î (`support_faq`), –ª–∏–±–æ –≤ `src/database.ts` ‚Üí `getDefaultFAQ()`

### –ù–∞—Å—Ç—Ä–æ–∏—Ç—å AI:

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ–º–ø—Ç –≤ `src/ai.ts` ‚Üí `getAIResponse()`

## üõ† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
influenta-support-bot/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.ts       # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.ts      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ database.ts    # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ ai.ts          # AI-–æ—Ç–≤–µ—Ç—ã (OpenAI)
‚îÇ   ‚îî‚îÄ‚îÄ handlers/      # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ (–±—É–¥—É—â–µ–µ)
‚îú‚îÄ‚îÄ .env               # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ tsconfig.json
```

## üöÄ –î–µ–ø–ª–æ–π

### Railway / Render:

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞: `npm run prod`

### PM2 (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ):

```bash
npm install -g pm2
npm run build
pm2 start dist/index.js --name influenta-support-bot
pm2 save
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å:
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
- ü§ñ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
- üí¨ –°–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚ö†Ô∏è –û—à–∏–±–∫–∏

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–í–æ–ø—Ä–æ—Å—ã? –ü—Ä–æ–±–ª–µ–º—ã? –ù–∞–ø–∏—à–∏—Ç–µ @YNCHQ

---

ü™ö by YNCHQ ¬© 2025

